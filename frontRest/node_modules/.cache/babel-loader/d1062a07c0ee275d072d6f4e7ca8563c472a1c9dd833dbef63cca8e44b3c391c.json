{"ast":null,"code":"import React,{useState}from'react';import Dialog from'@mui/material/Dialog';import DialogActions from'@mui/material/DialogActions';import DialogContent from'@mui/material/DialogContent';import DialogTitle from'@mui/material/DialogTitle';import Button from'@mui/material/Button';import TextField from'@mui/material/TextField';import{SERVER_URL}from'../../Constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const AssignmentUpdate=props=>{const[open,setOpen]=useState(false);const[editMessage,setEditMessage]=useState('');const[assignment,setAssignment]=useState({id:'',title:'',dueDate:''});const editOpen=event=>{setEditMessage('');setAssignment({id:'',title:'',dueDate:''});setOpen(true);setAssignment(props.assignment);};const editClose=()=>{setOpen(false);setAssignment({id:'',title:'',dueDate:''});};const editChange=event=>{setAssignment({...assignment,[event.target.name]:event.target.value});};const onSave=()=>{saveAssignment(assignment);};const saveAssignment=async assignment=>{try{const jwt=sessionStorage.getItem('jwt');const response=await fetch(\"\".concat(SERVER_URL,\"/assignments\"),{method:'PUT',headers:{'Content-Type':'application/json',\"Authorization\":jwt},body:JSON.stringify(assignment)});if(response.ok){setEditMessage(\"Assignment saved!\");}else{const rc=await response.json();setEditMessage(\"Response error: \"+rc.message);}}catch(err){setEditMessage(\"Network error: \"+err);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{onClick:editOpen,children:\"Edit\"}),/*#__PURE__*/_jsxs(Dialog,{open:open,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Edit Assignments\"}),/*#__PURE__*/_jsxs(DialogContent,{style:{paddingTop:20},children:[/*#__PURE__*/_jsx(\"h4\",{children:editMessage}),/*#__PURE__*/_jsx(TextField,{style:{padding:10},autoFocus:true,fullWidth:true,label:\"id\",name:\"id\",value:assignment.id,InputProps:{readOnly:true}}),/*#__PURE__*/_jsx(TextField,{style:{padding:10},fullWidth:true,label:\"title\",name:\"title\",value:assignment.title,onChange:editChange}),/*#__PURE__*/_jsx(TextField,{style:{padding:10},fullWidth:true,label:\"dueDate\",name:\"dueDate\",value:assignment.dueDate,onChange:editChange})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\",onClick:editClose,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:onSave,children:\"Save\"})]})]})]});};export default AssignmentUpdate;","map":{"version":3,"names":["React","useState","Dialog","DialogActions","DialogContent","DialogTitle","Button","TextField","SERVER_URL","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AssignmentUpdate","props","open","setOpen","editMessage","setEditMessage","assignment","setAssignment","id","title","dueDate","editOpen","event","editClose","editChange","target","name","value","onSave","saveAssignment","jwt","sessionStorage","getItem","response","fetch","concat","method","headers","body","JSON","stringify","ok","rc","json","message","err","children","onClick","style","paddingTop","padding","autoFocus","fullWidth","label","InputProps","readOnly","onChange","color"],"sources":["/home/juangutierrez/Documents/CST438 - Software Engineering/Gradebook/frontRest/cst438_Assign3/src/components/instructor/AssignmentUpdate.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport {SERVER_URL} from '../../Constants';\n\nconst AssignmentUpdate = (props)  => {\n\n    const [open, setOpen] = useState(false);\n    const [editMessage, setEditMessage] = useState('');\n    const [assignment, setAssignment] = useState(\n        {id:'', title: '', dueDate: ''});\n\n    const editOpen = (event) => {\n        setEditMessage('');\n        setAssignment({id: '', title: '', dueDate: ''});\n        setOpen(true);\n        setAssignment(props.assignment);\n    };\n\n    const editClose = () => {\n        setOpen(false);\n        setAssignment({id: '', title: '', dueDate: ''});\n    };\n\n    const editChange = (event) => {\n        setAssignment({...assignment,  [event.target.name]:event.target.value})\n    }\n\n    const onSave = () => {\n        saveAssignment(assignment);\n    }\n\n    const saveAssignment = async (assignment) => {\n        try {\n            const jwt = sessionStorage.getItem('jwt');\n            const response = await fetch (`${SERVER_URL}/assignments`,\n                {\n                    method: 'PUT',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        \"Authorization\": jwt\n                    },\n                    body: JSON.stringify(assignment),\n                });\n            if (response.ok) {\n                setEditMessage(\"Assignment saved!\");\n            } else {\n                const rc = await response.json();\n                setEditMessage(\"Response error: \" + rc.message);\n            }\n        } catch (err) {\n            setEditMessage(\"Network error: \"+err);\n        }\n    }\n    return (\n        <>\n            <Button onClick={editOpen}>Edit</Button>\n            <Dialog open={open} >\n                <DialogTitle>Edit Assignments</DialogTitle>\n                <DialogContent  style={{paddingTop: 20}} >\n                    <h4>{editMessage}</h4>\n                    <TextField style={{padding:10}} autoFocus fullWidth label=\"id\" name=\"id\" value={assignment.id}  InputProps={{readOnly: true, }}  />\n                    <TextField style={{padding:10}} fullWidth label=\"title\" name=\"title\" value={assignment.title} onChange={editChange}  />\n                    <TextField style={{padding:10}} fullWidth label=\"dueDate\" name=\"dueDate\" value={assignment.dueDate} onChange={editChange}  />\n                </DialogContent>\n                <DialogActions>\n                    <Button color=\"secondary\" onClick={editClose}>Close</Button>\n                    <Button color=\"primary\" onClick={onSave}>Save</Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}\n\nexport default AssignmentUpdate;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
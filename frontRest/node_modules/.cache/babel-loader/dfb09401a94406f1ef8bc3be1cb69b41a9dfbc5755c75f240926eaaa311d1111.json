{"ast":null,"code":"import React,{useState}from'react';import Dialog from'@mui/material/Dialog';import DialogActions from'@mui/material/DialogActions';import DialogContent from'@mui/material/DialogContent';import DialogTitle from'@mui/material/DialogTitle';import Button from'@mui/material/Button';import TextField from'@mui/material/TextField';import{SERVER_URL}from'../../Constants';/*\n * Dialog for edit a section\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SectionAdd=props=>{const[open,setOpen]=useState(false);const[editMessage,setEditMessage]=useState('');const[section,setSection]=useState({secNo:'',courseId:'',secId:'',year:'',semester:'',building:'',room:'',times:'',instructorName:'',instructorEmail:''});const editOpen=()=>{setSection({secNo:'',courseId:'',secId:'',year:'',semester:'',building:'',room:'',times:'',instructorName:'',instructorEmail:''});setEditMessage('');setOpen(true);};const editClose=()=>{setOpen(false);props.onClose();};const editChange=event=>{setSection({...section,[event.target.name]:event.target.value});};const onSave=()=>{if(section.courseId===''||section.secId===''||section.year===''||section.semester===''){setEditMessage('Must enter data for courseId secId, year semester');}else{addSection(section);}};const addSection=async section=>{try{const jwt=sessionStorage.getItem('jwt');const response=await fetch(\"\".concat(SERVER_URL,\"/sections\"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':jwt},body:JSON.stringify(section)});if(response.ok){const rc=await response.json();setEditMessage(\"section added secno=\"+rc.secNo);}else{const rc=await response.json();setEditMessage(rc.message);}}catch(err){setEditMessage(\"network error: \"+err);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{id:\"addSection\",onClick:editOpen,children:\"Add Section\"}),/*#__PURE__*/_jsxs(Dialog,{open:open,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Add Section\"}),/*#__PURE__*/_jsxs(DialogContent,{style:{paddingTop:20},children:[/*#__PURE__*/_jsx(\"h4\",{id:\"addMessage\",children:editMessage}),/*#__PURE__*/_jsx(TextField,{id:\"ecourseId\",style:{padding:10},autoFocus:true,fullWidth:true,label:\"courseId\",name:\"courseId\",value:section.courseId,onChange:editChange}),/*#__PURE__*/_jsx(TextField,{id:\"esecId\",style:{padding:10},fullWidth:true,label:\"secId\",name:\"secId\",value:section.secId,onChange:editChange}),/*#__PURE__*/_jsx(TextField,{id:\"eyear\",style:{padding:10},fullWidth:true,label:\"year\",name:\"year\",value:section.year,onChange:editChange}),/*#__PURE__*/_jsx(TextField,{id:\"esemester\",style:{padding:10},fullWidth:true,label:\"semester\",name:\"semester\",value:section.semester,onChange:editChange}),/*#__PURE__*/_jsx(TextField,{id:\"ebuilding\",style:{padding:10},fullWidth:true,label:\"building\",name:\"building\",value:section.building,onChange:editChange}),/*#__PURE__*/_jsx(TextField,{id:\"eroom\",style:{padding:10},fullWidth:true,label:\"room\",name:\"room\",value:section.room,onChange:editChange}),/*#__PURE__*/_jsx(TextField,{id:\"etimes\",style:{padding:10},fullWidth:true,label:\"times\",name:\"times\",value:section.times,onChange:editChange}),/*#__PURE__*/_jsx(TextField,{id:\"einstructorEmail\",style:{padding:10},fullWidth:true,label:\"instructorEmail\",name:\"instructorEmail\",value:section.instructorEmail,onChange:editChange})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{id:\"close\",color:\"secondary\",onClick:editClose,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{id:\"save\",color:\"primary\",onClick:onSave,children:\"Save\"})]})]})]});};export default SectionAdd;","map":{"version":3,"names":["React","useState","Dialog","DialogActions","DialogContent","DialogTitle","Button","TextField","SERVER_URL","jsx","_jsx","jsxs","_jsxs","SectionAdd","props","open","setOpen","editMessage","setEditMessage","section","setSection","secNo","courseId","secId","year","semester","building","room","times","instructorName","instructorEmail","editOpen","editClose","onClose","editChange","event","target","name","value","onSave","addSection","jwt","sessionStorage","getItem","response","fetch","concat","method","headers","body","JSON","stringify","ok","rc","json","message","err","children","id","onClick","style","paddingTop","padding","autoFocus","fullWidth","label","onChange","color"],"sources":["/home/juangutierrez/Documents/CST438 - Software Engineering/Gradebook/frontRest/cst438_Assign3/src/components/admin/SectionAdd.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport {SERVER_URL} from '../../Constants';\n\n/*\n * Dialog for edit a section\n */\n\nconst SectionAdd = (props)  => {\n\n    const [open, setOpen] = useState(false);\n    const [editMessage, setEditMessage] = useState('');\n    const [section, setSection] = useState(\n        {secNo:'', courseId:'', secId:'', year:'', semester:'', building:'', room:'', times:'',\n            instructorName:'', instructorEmail:''}\n    );\n\n    const editOpen = () => {\n        setSection( {secNo:'', courseId:'', secId:'', year:'', semester:'', building:'', room:'', times:'',\n            instructorName:'', instructorEmail:''});\n        setEditMessage('');\n        setOpen(true);\n    };\n\n    const editClose = () => {\n        setOpen(false);\n        props.onClose();\n    };\n\n    const editChange = (event) => {\n        setSection({...section,  [event.target.name]:event.target.value})\n    }\n\n    const onSave = () => {\n        if (section.courseId==='' || section.secId==='' || section.year==='' || section.semester==='') {\n            setEditMessage('Must enter data for courseId secId, year semester');\n        } else {\n            addSection(section);\n        }\n    }\n\n    const addSection = async (section) => {\n        try {\n            const jwt = sessionStorage.getItem('jwt');\n            const response = await fetch (`${SERVER_URL}/sections`,\n                {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Authorization': jwt\n                    },\n                    body: JSON.stringify(section),\n                });\n            if (response.ok) {\n                const rc = await response.json();\n                setEditMessage(\"section added secno=\"+rc.secNo);\n            } else {\n                const rc = await response.json();\n                setEditMessage(rc.message);\n            }\n        } catch (err) {\n            setEditMessage(\"network error: \"+err);\n        }\n    }\n\n\n    return (\n        <div>\n            <Button id=\"addSection\" onClick={editOpen}>Add Section</Button>\n            <Dialog open={open} >\n                <DialogTitle>Add Section</DialogTitle>\n                <DialogContent  style={{paddingTop: 20}} >\n                    <h4 id=\"addMessage\">{editMessage}</h4>\n                    <TextField id=\"ecourseId\" style={{padding:10}} autoFocus fullWidth label=\"courseId\" name=\"courseId\" value={section.courseId} onChange={editChange}  />\n                    <TextField id=\"esecId\" style={{padding:10}} fullWidth label=\"secId\" name=\"secId\" value={section.secId} onChange={editChange}  />\n                    <TextField id=\"eyear\" style={{padding:10}} fullWidth label=\"year\" name=\"year\" value={section.year} onChange={editChange}  />\n                    <TextField id=\"esemester\" style={{padding:10}} fullWidth label=\"semester\" name=\"semester\" value={section.semester} onChange={editChange}  />\n                    <TextField id=\"ebuilding\" style={{padding:10}} fullWidth label=\"building\" name=\"building\" value={section.building} onChange={editChange}  />\n                    <TextField id=\"eroom\" style={{padding:10}} fullWidth label=\"room\" name=\"room\" value={section.room} onChange={editChange}  />\n                    <TextField id=\"etimes\" style={{padding:10}} fullWidth label=\"times\" name=\"times\" value={section.times} onChange={editChange}  />\n                    <TextField id=\"einstructorEmail\" style={{padding:10}} fullWidth label=\"instructorEmail\" name=\"instructorEmail\" value={section.instructorEmail} onChange={editChange}  />\n                </DialogContent>\n                <DialogActions>\n                    <Button id=\"close\" color=\"secondary\" onClick={editClose}>Close</Button>\n                    <Button id=\"save\" color=\"primary\" onClick={onSave}>Save</Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    )\n}\n\nexport default SectionAdd;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
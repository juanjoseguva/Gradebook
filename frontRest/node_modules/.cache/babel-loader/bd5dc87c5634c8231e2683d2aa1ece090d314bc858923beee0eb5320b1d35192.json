{"ast":null,"code":"import React,{useState}from'react';import Dialog from'@mui/material/Dialog';import DialogActions from'@mui/material/DialogActions';import DialogContent from'@mui/material/DialogContent';import DialogTitle from'@mui/material/DialogTitle';import Button from'@mui/material/Button';import TextField from'@mui/material/TextField';import{SERVER_URL}from'../../Constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SectionUpdate=props=>{const[open,setOpen]=useState(false);const[editMessage,setEditMessage]=useState('');const[section,setSection]=useState({secNo:'',courseId:'',secId:'',year:'',semester:'',building:'',room:'',times:'',instructorName:'',instructorEmail:''});/*\n     *  dialog for edit section\n     */const editOpen=()=>{setEditMessage('');setSection({secNo:'',courseId:'',secId:'',year:'',semester:'',building:'',room:'',times:'',instructorName:'',instructorEmail:''});setOpen(true);setSection(props.section);};const editClose=()=>{setOpen(false);props.onClose();};const editChange=event=>{setSection({...section,[event.target.name]:event.target.value});};const onSave=()=>{saveSection(section);};const saveSection=async section=>{try{const jwt=sessionStorage.getItem('jwt');const response=await fetch(\"\".concat(SERVER_URL,\"/sections\"),{method:'PUT',headers:{'Content-Type':'application/json','Authorization':jwt},body:JSON.stringify(section)});if(response.ok){setEditMessage(\"section saved\");}else{const rc=await response.json();setEditMessage(rc.message);}}catch(err){setEditMessage(\"network error: \"+err);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{onClick:editOpen,children:\"Edit\"}),/*#__PURE__*/_jsxs(Dialog,{open:open,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Edit Section\"}),/*#__PURE__*/_jsxs(DialogContent,{style:{paddingTop:20},children:[/*#__PURE__*/_jsx(\"h4\",{children:editMessage}),/*#__PURE__*/_jsx(TextField,{style:{padding:10},fullWidth:true,label:\"secNo\",name:\"secNo\",value:section.secNo,InputProps:{readOnly:true}}),/*#__PURE__*/_jsx(TextField,{style:{padding:10},fullWidth:true,label:\"courseId\",name:\"courseId\",value:section.courseId,InputProps:{readOnly:true}}),/*#__PURE__*/_jsx(TextField,{style:{padding:10},fullWidth:true,label:\"year\",name:\"year\",value:section.year,InputProps:{readOnly:true}}),/*#__PURE__*/_jsx(TextField,{style:{padding:10},fullWidth:true,label:\"semester\",name:\"semester\",value:section.semester,InputProps:{readOnly:true}}),/*#__PURE__*/_jsx(TextField,{style:{padding:10},autoFocus:true,fullWidth:true,label:\"secId\",name:\"secId\",value:section.secId,onChange:editChange}),/*#__PURE__*/_jsx(TextField,{style:{padding:10},fullWidth:true,label:\"building\",name:\"building\",value:section.building,onChange:editChange}),/*#__PURE__*/_jsx(TextField,{style:{padding:10},fullWidth:true,label:\"room\",name:\"room\",value:section.room,onChange:editChange}),/*#__PURE__*/_jsx(TextField,{style:{padding:10},fullWidth:true,label:\"times\",name:\"times\",value:section.times,onChange:editChange}),/*#__PURE__*/_jsx(TextField,{style:{padding:10},fullWidth:true,label:\"instructorEmail\",name:\"instructorEmail\",value:section.instructorEmail,onChange:editChange})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\",onClick:editClose,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:onSave,children:\"Save\"})]})]})]});};export default SectionUpdate;","map":{"version":3,"names":["React","useState","Dialog","DialogActions","DialogContent","DialogTitle","Button","TextField","SERVER_URL","jsx","_jsx","jsxs","_jsxs","SectionUpdate","props","open","setOpen","editMessage","setEditMessage","section","setSection","secNo","courseId","secId","year","semester","building","room","times","instructorName","instructorEmail","editOpen","editClose","onClose","editChange","event","target","name","value","onSave","saveSection","jwt","sessionStorage","getItem","response","fetch","concat","method","headers","body","JSON","stringify","ok","rc","json","message","err","children","onClick","style","paddingTop","padding","fullWidth","label","InputProps","readOnly","autoFocus","onChange","color"],"sources":["/home/juangutierrez/Documents/CST438 - Software Engineering/Gradebook/frontRest/cst438_Assign3/src/components/admin/SectionUpdate.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport {SERVER_URL} from '../../Constants';\n\nconst SectionUpdate = (props)  => {\n\n    const [open, setOpen] = useState(false);\n    const [editMessage, setEditMessage] = useState('');\n    const [section, setSection] = useState(\n        {secNo:'', courseId:'', secId:'', year:'', semester:'', building:'', room:'', times:'',\n            instructorName:'', instructorEmail:''});\n\n    /*\n     *  dialog for edit section\n     */\n    const editOpen = () => {\n        setEditMessage('');\n        setSection({secNo:'', courseId:'', secId:'', year:'', semester:'', building:'', room:'', times:'',\n            instructorName:'', instructorEmail:''});\n        setOpen(true);\n        setSection(props.section);\n    };\n\n    const editClose = () => {\n        setOpen(false);\n        props.onClose();\n    };\n\n    const editChange = (event) => {\n        setSection({...section,  [event.target.name]:event.target.value})\n    }\n\n    const onSave = () => {\n        saveSection(section);\n    }\n\n    const saveSection = async (section) => {\n        try {\n            const jwt = sessionStorage.getItem('jwt');\n            const response = await fetch (`${SERVER_URL}/sections`,\n                {\n                    method: 'PUT',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Authorization': jwt\n                    },\n                    body: JSON.stringify(section),\n                });\n            if (response.ok) {\n                setEditMessage(\"section saved\");\n            } else {\n                const rc = await response.json();\n                setEditMessage(rc.message);\n            }\n        } catch (err) {\n            setEditMessage(\"network error: \"+err);\n        }\n    }\n\n\n    return (\n        <div>\n            <Button onClick={editOpen}>Edit</Button>\n            <Dialog open={open} >\n                <DialogTitle>Edit Section</DialogTitle>\n                <DialogContent  style={{paddingTop: 20}} >\n                    <h4>{editMessage}</h4>\n                    <TextField style={{padding:10}} fullWidth label=\"secNo\" name=\"secNo\" value={section.secNo}  InputProps={{readOnly: true, }}  />\n                    <TextField style={{padding:10}} fullWidth label=\"courseId\" name=\"courseId\" value={section.courseId} InputProps={{readOnly: true, }}  />\n                    <TextField style={{padding:10}} fullWidth label=\"year\" name=\"year\" value={section.year} InputProps={{readOnly: true, }} />\n                    <TextField style={{padding:10}} fullWidth label=\"semester\" name=\"semester\" value={section.semester} InputProps={{readOnly: true, }}  />\n                    <TextField style={{padding:10}} autoFocus fullWidth label=\"secId\" name=\"secId\" value={section.secId} onChange={editChange} />\n                    <TextField style={{padding:10}} fullWidth label=\"building\" name=\"building\" value={section.building} onChange={editChange}  />\n                    <TextField style={{padding:10}} fullWidth label=\"room\" name=\"room\" value={section.room} onChange={editChange}  />\n                    <TextField style={{padding:10}} fullWidth label=\"times\" name=\"times\" value={section.times} onChange={editChange}  />\n                    <TextField style={{padding:10}} fullWidth label=\"instructorEmail\" name=\"instructorEmail\" value={section.instructorEmail} onChange={editChange}  />\n                </DialogContent>\n                <DialogActions>\n                    <Button color=\"secondary\" onClick={editClose}>Close</Button>\n                    <Button color=\"primary\" onClick={onSave}>Save</Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    )\n}\n\nexport default SectionUpdate;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}